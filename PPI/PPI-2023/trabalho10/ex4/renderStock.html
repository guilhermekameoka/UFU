<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 4</title>
</head>

<body>
    <script>
        // Item "a" e "b":
        //   {
        //     "Global Quote": {
        //         "01. symbol": "PETR4.SA",
        //         "02. open": "26.6000",
        //         "03. high": "26.7600",
        //         "04. low": "25.5100",
        //         "05. price": "25.6600",
        //         "06. volume": "106826400",
        //         "07. latest trading day": "2023-05-17",
        //         "08. previous close": "26.3000",
        //         "09. change": "-0.6400",
        //         "10. change percent": "-2.4335%"
        //     }
        // }

        // Item c (get quote)
        // Passa como parametro o codigo da acao
        function GetQuote(cod_acao) {
            return fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${cod_acao}&apikey=OKZJ6XGJP9MDMZBO`)
                .then(response => response.json())
                .then(data => {
                    const cotacao = data["Global Quote"]["05. price"];
                    const resultado = { acao: cod_acao, cotacao };
                    return resultado;
                });
        }

        // Item d (renderStock)
        function RenderStock(stock) {
            const stockElement = document.createElement("div");
            stockElement.textContent = `Ação: ${stock.acao}`;

            const cotacaoElement = document.createElement("div");
            cotacaoElement.textContent = `Cotação: ${stock.cotacao}`;
            document.body.append(stockElement, cotacaoElement);
        }

        const stockData = { acao: "PETR4", cotacao: "26,30" };
        RenderStock(stockData);

    </script>
</body>

</html>