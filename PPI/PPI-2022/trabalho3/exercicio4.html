<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 4</title>

    <style>
        body {
            background-image: url(images/background.jpg);
            margin: 50px auto;
            padding: 50px;
            background-size: cover;
        }

        h3 {
            font-size: 24px;
        }

        .loginBox {
            margin: auto;
            padding: 40px;
            width: 25%;
            background-color: white;
            border: 1px solid rgb(202, 202, 202);
            border-radius: 10px;
            box-shadow: darkgray;
        }

        .loginBox input:focus {
            border: 1.5px solid blue;
            outline: none;
        }

        .loginBox form section {
            margin: 12px auto;
        }

        .loginBox form label {
            display: block;
        }

        .loginBox form input {
            width: 100%;
            height: 25px;
            border: 1px solid rgb(99, 99, 99);
            border-radius: 2px;
        }

        .loginBox form span {
            color: #a30000;
        }
    </style>
</head>

<body>

</body>

<section class="loginBox">
    <h3>Cadastro de Usuário</h3>

    <form name="formCadastro" action="action.php" method="post">

        <div>
            <label for="usuario">Usuário:</label>
            <input type="text" id="usuario" name="usuario" autocomplete="off">
            <span></span>
        </div>

        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha">
        <span></span>

        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" autocomplete="off">
            <span></span>
        </div>

        <br><button>Cadastrar</button>

    </form>
    </div>

    </main>

    <script>
        window.onload = function () { // A função vai ser carregada ao carregar a página
            document.forms.formCadastro.onsubmit = validaForm;  // Validação
        }

        function validaForm(e) {  // Função para validar se todos os campos foram preenchidos
            let form = e.target;   // Seleciona o formulario
            let formValidado = true;  // Caso todos os campos forem preenchidos, a função validaForm irá retornar o valor verdadeiro

            const spanUsuario = form.usuario.nextElementSibling;  // Usuário
            const spanSenha = form.senha.nextElementSibling;  // Senha
            const spanEmail = form.email.nextElementSibling;  // Email

            spanUsuario.textContent = ""; // Usuario = null
            spanSenha.textContent = ""; // Senha = null
            spanEmail.textContent = ""; // Email = null

            if (form.usuario.value === "") {    // Mensagem de erro caso o campo não for preenchido
                spanUsuario.textContent = 'O usuario deve ser preenchido';
                formValidado = false;
            }

            if (form.senha.value === "") {    // Mensagem de erro caso o campo não for preenchido
                spanSenha.textContent = 'A senha deve ser preenchida';
                formValidado = false;
            }
            if (form.email.value === "") {    // Mensagem de erro caso o campo não for preenchido
                spanEmail.textContent = 'O email deve ser preenchido';
                formValidado = false;
            }

            return formValidado;    // Caso todos os campos forem preenchidos, a função validaForm irá retornar o valor verdadeiro

        }
    </script>

</html>